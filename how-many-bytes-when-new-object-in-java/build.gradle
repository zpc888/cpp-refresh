/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/6.8.3/samples
 */

apply plugin: 'java'

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile group: 'org.openjdk.jol', name: 'jol-core', version: "0.10"
}

task fatJar(type: Jar) {
    manifest {
        attributes 'Implementation-Title': 'Heap Memory Measure',
                    'Implementation-Version': '1.0',
                    'Main-Class': 'HeapMemory'
    }
    baseName = project.name + "-RUNNABLE"
    from { configurations.compile.collect { it.isDirectory() ? it : (it.name.startsWith("spring") ? [] : zipTree(it) ) } }
    with jar
}